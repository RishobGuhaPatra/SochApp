(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"f+ep":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=e("mrSG"),r=(e("Oipj"),e("xdv0")),u=e("ZZ/e"),a=(e("6233"),e("tt/k")),i=e("iqUP"),s=function(){function n(n,l,e,t,o,r,u){this.afAuth=n,this.user=l,this.router=e,this.alertController=t,this.db=o,this.firebaseProvider=r,this.toastController=u,this.username="",this.password=""}return n.prototype.ngOnInit=function(){},n.prototype.login=function(){return o.__awaiter(this,void 0,void 0,function(){var n,l,e=this;return o.__generator(this,function(t){return this.afAuth.auth.signInWithEmailAndPassword(l=(n=this).username,n.password).then(function(n){var t=["User","counsellor"];for(var o in t)i.database().ref(t[o]).once("value",function(t){var o=t.val();for(var r in o)if(r==n.user.uid){e.loginType=o[r].account_type,e.LoggedInUserData=o[r],localStorage.setItem("LoggedInUserData",JSON.stringify(e.LoggedInUserData)),e.loginType&&e.firebaseProvider.getTokenNew().then(function(l){i.database().ref(e.loginType).child(n.user.uid).update({device_token:l,available:!0})}),e.LoggedInUserData&&("cleared"==e.LoggedInUserData.verification||"counsellor"!=e.LoggedInUserData.account_type?(localStorage.setItem("userid",n.user.uid),e.user.setUser({username:l,uid:n.user.uid}),"counsellor"==e.LoggedInUserData.account_type?e.router.navigate(["/counsellor-tab"]):"User"==e.LoggedInUserData.account_type&&e.router.navigate(["/tabs"])):"pending"==e.LoggedInUserData.verification&&e.presentAlert("Waiting","Your account is under verification. You can also contact +1(321)209-1137 number for updates."));break}})},function(n){e.presentToast(n.message)}),[2]})})},n.prototype.register=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){return this.router.navigate(["/register"]),[2]})})},n.prototype.presentAlert=function(n,l){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:n,message:l,buttons:["OK"]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.presentToast=function(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(l){switch(l.label){case 0:return[4,this.toastController.create({message:n,duration:2e3})];case 1:return l.sent().present(),[2]}})})},n.prototype.send=function(){console.log("send");var n={token:"fTwyYbLgX1s:APA91bFMkVT20UXotbeqDxdTEgID1S1b2_Cm1pP8HbXg0TN6TK6hGdMUXWDPIK8gS1CAtPXAmQ9HihEraF5Jw88bVzATmlZ1Sw_CGpuYfgoXdnoK_g1nKL7SxgVy8l_lVnlhXRYQSijI",msg:"test"};console.log(n),this.firebaseProvider.sendNotification(n)},n.prototype.resetPassword=function(n){var l=this;return i.auth().sendPasswordResetEmail(n).then(function(){return l.presentToast("Email Sent")}).catch(function(n){return l.presentToast("Please try again")})},n}(),c=function(){return function(){}}(),d=e("pMnS"),p=e("oBZk"),b=e("gIcY"),g=e("ZBkt"),h=e("ZYCi"),m=e("3iKN"),f=t.nb({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{height:16vh;align-items:center;margin-top:20px;margin-bottom:10px}.button[_ngcontent-%COMP%]{align-items:center;margin-top:20px}.input[_ngcontent-%COMP%]{align-items:center;margin-top:10px}.art[_ngcontent-%COMP%]{margin:30px 0;align-items:center}"]],data:{}});function z(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,49,"ion-content",[["padding",""]],null,null,null,p.rb,p.n)),t.ob(1,49152,null,0,u.u,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,3,"ion-item",[["lines","none"]],null,null,null,p.Hb,p.z)),t.ob(3,49152,null,0,u.H,[t.h,t.k,t.z],{lines:[0,"lines"]},null),(n()(),t.pb(4,0,null,0,1,"ion-img",[["class","logo"],["src","assets/login/LOGO3.png"]],null,null,null,p.Ab,p.w)),t.ob(5,49152,null,0,u.D,[t.h,t.k,t.z],{src:[0,"src"]},null),(n()(),t.pb(6,0,null,0,3,"ion-item",[["lines","none"]],null,null,null,p.Hb,p.z)),t.ob(7,49152,null,0,u.H,[t.h,t.k,t.z],{lines:[0,"lines"]},null),(n()(),t.pb(8,0,null,0,1,"ion-img",[["class","art"],["src","assets/login/Illustrations.png"]],null,null,null,p.Ab,p.w)),t.ob(9,49152,null,0,u.D,[t.h,t.k,t.z],{src:[0,"src"]},null),(n()(),t.pb(10,0,null,0,12,"ion-item",[],null,null,null,p.Hb,p.z)),t.ob(11,49152,null,0,u.H,[t.h,t.k,t.z],null,null),(n()(),t.pb(12,0,null,0,1,"ion-icon",[["color","dark"],["name","mail"],["padding-top",""],["size","small"]],null,null,null,p.zb,p.v)),t.ob(13,49152,null,0,u.C,[t.h,t.k,t.z],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),(n()(),t.pb(14,0,null,0,8,"ion-input",[["autocorrect","on"],["class","input"],["color","dark"],["padding",""],["pattern","email"],["placeholder","Email"],["type","text"]],[[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0,r=n.component;return"ionBlur"===l&&(o=!1!==t.zb(n,17)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.zb(n,17)._handleInputEvent(e.target)&&o),"ngModelChange"===l&&(o=!1!==(r.username=e)&&o),o},p.Cb,p.y)),t.ob(15,540672,null,0,b.g,[],{pattern:[0,"pattern"]},null),t.Cb(1024,null,b.b,function(n){return[n]},[b.g]),t.ob(17,16384,null,0,u.Ob,[t.k],null,null),t.Cb(1024,null,b.c,function(n){return[n]},[u.Ob]),t.ob(19,671744,null,0,b.f,[[8,null],[6,b.b],[8,null],[6,b.c]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,b.d,null,[b.f]),t.ob(21,16384,null,0,b.e,[[4,b.d]],null,null),t.ob(22,49152,null,0,u.G,[t.h,t.k,t.z],{autocorrect:[0,"autocorrect"],color:[1,"color"],pattern:[2,"pattern"],placeholder:[3,"placeholder"],type:[4,"type"]},null),(n()(),t.pb(23,0,null,0,12,"ion-item",[],null,null,null,p.Hb,p.z)),t.ob(24,49152,null,0,u.H,[t.h,t.k,t.z],null,null),(n()(),t.pb(25,0,null,0,1,"ion-icon",[["color","dark"],["name","lock"],["padding-top",""],["size","small"]],null,null,null,p.zb,p.v)),t.ob(26,49152,null,0,u.C,[t.h,t.k,t.z],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),(n()(),t.pb(27,0,null,0,8,"ion-input",[["class","input"],["color","dark"],["inputmode","password"],["padding",""],["pattern","password"],["placeholder","Password"],["type","password"]],[[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0,r=n.component;return"ionBlur"===l&&(o=!1!==t.zb(n,30)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.zb(n,30)._handleInputEvent(e.target)&&o),"ngModelChange"===l&&(o=!1!==(r.password=e)&&o),o},p.Cb,p.y)),t.ob(28,540672,null,0,b.g,[],{pattern:[0,"pattern"]},null),t.Cb(1024,null,b.b,function(n){return[n]},[b.g]),t.ob(30,16384,null,0,u.Ob,[t.k],null,null),t.Cb(1024,null,b.c,function(n){return[n]},[u.Ob]),t.ob(32,671744,null,0,b.f,[[8,null],[6,b.b],[8,null],[6,b.c]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,b.d,null,[b.f]),t.ob(34,16384,null,0,b.e,[[4,b.d]],null,null),t.ob(35,49152,null,0,u.G,[t.h,t.k,t.z],{color:[0,"color"],inputmode:[1,"inputmode"],pattern:[2,"pattern"],placeholder:[3,"placeholder"],type:[4,"type"]},null),(n()(),t.pb(36,0,null,0,4,"ion-button",[["class","button"],["color","primary"],["expand","full"],["fill","solid"],["lines","none"],["shape","round"],["size","medium"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.login()&&t),t},p.hb,p.d)),t.ob(37,49152,null,0,u.k,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"],shape:[3,"shape"],size:[4,"size"]},null),(n()(),t.pb(38,0,null,0,1,"ion-icon",[["name","mail"],["padding",""]],null,null,null,p.zb,p.v)),t.ob(39,49152,null,0,u.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.Fb(-1,0,[" Login with Email "])),(n()(),t.pb(41,0,null,0,5,"ion-button",[["color","dark"],["expand","full"],["fill","clear"],["size","small"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.register()&&t),t},p.hb,p.d)),t.ob(42,49152,null,0,u.k,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"],size:[3,"size"]},null),(n()(),t.Fb(-1,0,[" Sign Up with "])),(n()(),t.pb(44,0,null,0,1,"ion-icon",[["name","mail"]],null,null,null,p.zb,p.v)),t.ob(45,49152,null,0,u.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.Fb(-1,0,[" Email "])),(n()(),t.pb(47,0,null,0,2,"ion-button",[["color","dark"],["expand","full"],["fill","clear"],["size","small"]],null,[[null,"click"]],function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.resetPassword(o.username)&&t),t},p.hb,p.d)),t.ob(48,49152,null,0,u.k,[t.h,t.k,t.z],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"],size:[3,"size"]},null),(n()(),t.Fb(-1,0,[" Forgot Password? "]))],function(n,l){var e=l.component;n(l,3,0,"none"),n(l,5,0,"assets/login/LOGO3.png"),n(l,7,0,"none"),n(l,9,0,"assets/login/Illustrations.png"),n(l,13,0,"dark","mail","small"),n(l,15,0,"email"),n(l,19,0,e.username),n(l,22,0,"on","dark","email","Email","text"),n(l,26,0,"dark","lock","small"),n(l,28,0,"password"),n(l,32,0,e.password),n(l,35,0,"dark","password","password","Password","password"),n(l,37,0,"primary","full","solid","round","medium"),n(l,39,0,"mail"),n(l,42,0,"dark","full","clear","small"),n(l,45,0,"mail"),n(l,48,0,"dark","full","clear","small")},function(n,l){n(l,14,0,t.zb(l,15).pattern?t.zb(l,15).pattern:null,t.zb(l,21).ngClassUntouched,t.zb(l,21).ngClassTouched,t.zb(l,21).ngClassPristine,t.zb(l,21).ngClassDirty,t.zb(l,21).ngClassValid,t.zb(l,21).ngClassInvalid,t.zb(l,21).ngClassPending),n(l,27,0,t.zb(l,28).pattern?t.zb(l,28).pattern:null,t.zb(l,34).ngClassUntouched,t.zb(l,34).ngClassTouched,t.zb(l,34).ngClassPristine,t.zb(l,34).ngClassDirty,t.zb(l,34).ngClassValid,t.zb(l,34).ngClassInvalid,t.zb(l,34).ngClassPending)})}function k(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,1,"app-login",[],null,null,null,z,f)),t.ob(1,114688,null,0,s,[g.a,r.a,h.m,u.a,m.a,a.a,u.Pb],null,null)],function(n,l){n(l,1,0)},null)}var v=t.lb("app-login",s,k,{},{},[]),C=e("Ip0R");e.d(l,"LoginPageModuleNgFactory",function(){return w});var w=t.mb(c,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[d.a,v]],[3,t.j],t.x]),t.xb(4608,C.l,C.k,[t.u,[2,C.s]]),t.xb(4608,b.j,b.j,[]),t.xb(4608,u.b,u.b,[t.z,t.g]),t.xb(4608,u.Hb,u.Hb,[u.b,t.j,t.q]),t.xb(4608,u.Lb,u.Lb,[u.b,t.j,t.q]),t.xb(1073742336,C.b,C.b,[]),t.xb(1073742336,b.i,b.i,[]),t.xb(1073742336,b.a,b.a,[]),t.xb(1073742336,u.Db,u.Db,[]),t.xb(1073742336,h.o,h.o,[[2,h.u],[2,h.m]]),t.xb(1073742336,c,c,[]),t.xb(1024,h.k,function(){return[[{path:"",component:s}]]},[])])})}}]);