(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{A0qg:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=e("iqUP"),i=e("hnS/"),u=e("9B/o"),s=e("HEjx"),r=function(){function n(n,l,e,t){this.callNumber=n,this.router=l,this.iab=e,this.browserTab=t,this.ClientList=[],this.ShowList=!1,this.testKey=0,this.ListCount=0,this.sessions=[]}return n.prototype.doRefresh=function(n){this.ClientList=[],this.ngOnInit(),setTimeout(function(){console.log("Async operation has ended"),n.target.complete()},2e3)},n.prototype.ngOnInit=function(){var n=this;this.LoggedInUserData=JSON.parse(localStorage.getItem("LoggedInUserData")),console.log(this.LoggedInUserData),o.database().ref("sessions").once("value",function(l){var e=l.val();for(var t in e)n.sessions.unshift({key:t,data:e[t]});console.log(n.sessions)}),this.sub=this.getListData().then(function(l){if(l)for(var e in n.roomData)n.roomData[e].reciver_id!=n.LoggedInUserData.uid&&n.roomData[e].sender_id!=n.LoggedInUserData.uid||(console.log("check0"),n.roomData[e].reciver_id==n.LoggedInUserData.uid?(console.log("check1"),n.getSenderData(n.roomData,e).then(function(l){l&&(console.log(l),n.getTime(l))})):n.getReceiverData(n.roomData,e).then(function(l){l&&(console.log(l),n.getTime(l))}))})},n.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},n.prototype.gotoCaller=function(n){var l=this;this.browserTab.isAvailable().then(function(n){n&&l.browserTab.openUrl("https://zoom.us/j/6133939173")})},n.prototype.getListData=function(){var n=this;return new Promise(function(l,e){o.database().ref("counselorChat").once("value",function(e){n.roomData=e.val(),console.log(n.roomData),l(n.roomData)})})},n.prototype.getTime=function(n){var l=Object.keys(n.chat).length-1,e=Object.keys(n.chat)[l],t=new Date(1e3*n.chat[e].time).toString().split(" ")[4].split(":");if(parseInt(t[0])<13)n.chat[e].time=(parseInt(t[0])<10?"0"+parseInt(t[0]):parseInt(t[0]))+":"+(parseInt(t[1])<10?"0"+parseInt(t[1]):parseInt(t[1]))+(12!=parseInt(t[0])?" AM":" PM");else{var o=parseInt(t[0])-12;n.chat[e].time=(o=o<10?"0"+o:o)+":"+parseInt(t[1])+" PM"}this.ClientList.unshift(n),console.log(this.ClientList)},n.prototype.getReceiverData=function(n,l){var e=this;return new Promise(function(t,i){var u,s={};o.database().ref("User"==e.LoggedInUserData.account_type?"User/":"counsellor/"+n[l].reciver_id).once("value",function(o){console.log(l),(u=o.val())?(s=e.MergeJson(s,n[l]),s=e.MergeJson(s,u),t(s)):t(!1)})})},n.prototype.getSenderData=function(n,l){var e=this;return new Promise(function(t,i){var u,s={};console.log("User"==e.LoggedInUserData.account_type?"counsellor/":"User/"),o.database().ref("User"==e.LoggedInUserData.account_type?"counsellor/":"User/"+n[l].sender_id).once("value",function(o){console.log(l),u=o.val(),console.log(u),u?(s=e.MergeJson(s,n[l]),s=e.MergeJson(s,u),t(s)):t(!1)})})},n.prototype.MergeJson=function(n,l){for(var e in l)n[e]=l[e];return n},n.prototype.gotoJournel=function(n){this.router.navigate(["/profile"],{queryParams:{id:n}})},n.prototype.gotoSessionNotes=function(n){this.router.navigate(["session-notes"],{queryParams:{id:n}})},n.prototype.session=function(n,l){for(var e in this.sessions)if(this.sessions[e].data.cid==this.LoggedInUserData.uid&&this.sessions[e].data.uid==n){for(var t in console.log(n),console.log(this.sessions[e].key),this.sessions[e].data.selectedPlan.seesionList)if(!this.sessions[e].data.selectedPlan.seesionList[t]){this.router.navigate(["/councelor-bubble",t,this.sessions[e].key,n,l]),console.log(t),console.log(this.sessions[e].data.selectedPlan.seesionList[t]);break}break}},n}(),c=function(){return function(){}}(),a=e("pMnS"),b=e("oBZk"),p=e("ZZ/e"),g=e("Ip0R"),h=e("ZYCi"),d=t.nb({encapsulation:0,styles:[[".camera[_ngcontent-%COMP%]{width:200px;height:200px;margin:0 auto;background:#000;display:none}.filebtn[_ngcontent-%COMP%]{opacity:0;position:absolute;top:-100em;left:-100em}.center[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{border:2px solid #000}.no-face[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-style:italic}.counsellor-list[_ngcontent-%COMP%]{text-align:center;position:relative}.counsellor-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;-o-object-fit:cover;object-fit:cover;border-radius:50%}.counsellor-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1px 0;border-radius:5px;margin-top:-18px}.counsellor-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:20px 0 0;font-size:14px;font-weight:500}.counsellor-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{margin:2px 0 5px;font-size:12px}"]],data:{}});function m(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,1,"ion-progress-bar",[["type","indeterminate"]],null,null,null,b.Ob,b.K)),t.ob(1,49152,null,0,p.Y,[t.h,t.k,t.z],{type:[0,"type"]},null)],function(n,l){n(l,1,0,"indeterminate")},null)}function f(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,0,"img",[["src","../../assets/icon/user.png"]],null,null,null,null,null))],null,null)}function k(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,t.rb(2,"https://ucarecdn.com/",l.parent.context.$implicit.profilePic,"/",l.component.scaleCrop,"/"))})}function x(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,40,"ion-item-sliding",[["id","item100"]],null,null,null,b.Gb,b.D)),t.ob(1,49152,null,0,p.M,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,16,"ion-item",[],null,null,null,b.Hb,b.z)),t.ob(3,49152,null,0,p.H,[t.h,t.k,t.z],null,null),(n()(),t.pb(4,0,null,0,5,"ion-avatar",[["class","chatImage"],["slot","start"]],null,null,null,b.fb,b.b)),t.ob(5,49152,null,0,p.f,[t.h,t.k,t.z],null,null),(n()(),t.gb(16777216,null,0,1,null,f)),t.ob(7,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,k)),t.ob(9,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(10,0,null,0,5,"ion-label",[],null,null,null,b.Ib,b.E)),t.ob(11,49152,null,0,p.N,[t.h,t.k,t.z],null,null),(n()(),t.pb(12,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),t.Fb(13,null,[" ",""])),(n()(),t.pb(14,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(15,null,["",""])),(n()(),t.pb(16,0,null,0,2,"ion-note",[["slot","end"]],null,null,null,b.Nb,b.J)),t.ob(17,49152,null,0,p.X,[t.h,t.k,t.z],null,null),(n()(),t.Fb(18,0,[" "," "])),(n()(),t.pb(19,0,null,0,8,"ion-item-options",[["side","start"]],null,null,null,b.Fb,b.C)),t.ob(20,49152,null,0,p.L,[t.h,t.k,t.z],{side:[0,"side"]},null),(n()(),t.pb(21,0,null,0,6,"ion-item-option",[],null,[[null,"click"]],function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.gotoJournel(n.context.$implicit.sender_id==o.LoggedInUserData.uid?n.context.$implicit.reciver_id:n.context.$implicit.sender_id)&&t),t},b.Eb,b.B)),t.ob(22,49152,null,0,p.K,[t.h,t.k,t.z],null,null),(n()(),t.pb(23,0,null,0,1,"ion-icon",[["name","journal"],["slot","icon-only"]],null,null,null,b.zb,b.v)),t.ob(24,49152,null,0,p.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.pb(25,0,null,0,2,"ion-label",[],null,null,null,b.Ib,b.E)),t.ob(26,49152,null,0,p.N,[t.h,t.k,t.z],null,null),(n()(),t.Fb(-1,0,["Journal"])),(n()(),t.pb(28,0,null,0,12,"ion-item-options",[["side","end"]],null,null,null,b.Fb,b.C)),t.ob(29,49152,null,0,p.L,[t.h,t.k,t.z],{side:[0,"side"]},null),(n()(),t.pb(30,0,null,0,6,"ion-item-option",[["color","primary"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.gotoSessionNotes(n.context.$implicit.uid)&&t),t},b.Eb,b.B)),t.ob(31,49152,null,0,p.K,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.pb(32,0,null,0,1,"ion-icon",[["name","clipboard"],["slot","icon-only"]],null,null,null,b.zb,b.v)),t.ob(33,49152,null,0,p.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.pb(34,0,null,0,2,"ion-label",[],null,null,null,b.Ib,b.E)),t.ob(35,49152,null,0,p.N,[t.h,t.k,t.z],null,null),(n()(),t.Fb(-1,0,["Notes"])),(n()(),t.pb(37,0,null,0,3,"ion-item-option",[["color","secondary"]],null,[[null,"click"]],function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.session(n.context.$implicit.sender_id==o.LoggedInUserData.uid?n.context.$implicit.reciver_id:n.context.$implicit.sender_id,n.context.$implicit.name)&&t),t},b.Eb,b.B)),t.ob(38,49152,null,0,p.K,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.pb(39,0,null,0,1,"ion-icon",[["name","text"],["slot","icon-only"]],null,null,null,b.zb,b.v)),t.ob(40,49152,null,0,p.C,[t.h,t.k,t.z],{name:[0,"name"]},null)],function(n,l){n(l,7,0,!l.context.$implicit.profilePic),n(l,9,0,l.context.$implicit.profilePic),n(l,20,0,"start"),n(l,24,0,"journal"),n(l,29,0,"end"),n(l,31,0,"primary"),n(l,33,0,"clipboard"),n(l,38,0,"secondary"),n(l,40,0,"text")},function(n,l){n(l,13,0,l.context.$implicit.name?l.context.$implicit.name:l.context.$implicit.username),n(l,15,0,l.context.$implicit.last_messageKey?l.context.$implicit.chat[l.context.$implicit.last_messageKey].msg:""),n(l,18,0,l.context.$implicit.chat[l.context.$implicit.last_messageKey]?l.context.$implicit.chat[l.context.$implicit.last_messageKey].time:"")})}function v(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,16,"ion-header",[],null,null,null,b.yb,b.u)),t.ob(1,49152,null,0,p.B,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,14,"ion-toolbar",[],null,null,null,b.hc,b.db)),t.ob(3,49152,null,0,p.Bb,[t.h,t.k,t.z],null,null),(n()(),t.pb(4,0,null,0,3,"ion-button",[["fill","clear"],["size","small"],["slot","start"]],null,null,null,b.hb,b.d)),t.ob(5,49152,null,0,p.k,[t.h,t.k,t.z],{fill:[0,"fill"],size:[1,"size"]},null),(n()(),t.pb(6,0,null,0,1,"ion-menu-button",[["color","dark"],["size","small"]],null,null,null,b.Kb,b.H)),t.ob(7,49152,null,0,p.R,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.pb(8,0,null,0,1,"ion-img",[["src","/assets/icon/LoGo.png"]],null,null,null,b.Ab,b.w)),t.ob(9,49152,null,0,p.D,[t.h,t.k,t.z],{src:[0,"src"]},null),(n()(),t.pb(10,0,null,0,4,"ion-icon",[["color","dark"],["fill","outline"],["name","person-add"],["padding",""],["shape","round"],["size","small"],["slot","end"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t.zb(n,12).onClick()&&o),"click"===l&&(o=!1!==t.zb(n,14).onClick(e)&&o),o},b.zb,b.v)),t.ob(11,49152,null,0,p.C,[t.h,t.k,t.z],{color:[0,"color"],name:[1,"name"],size:[2,"size"]},null),t.ob(12,16384,null,0,h.n,[h.m,h.a,[8,null],t.D,t.k],{routerLink:[0,"routerLink"]},null),t.Ab(13,1),t.ob(14,737280,null,0,p.Mb,[g.g,p.Ib,t.k,h.m,[2,h.n]],null,null),(n()(),t.gb(16777216,null,0,1,null,m)),t.ob(16,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(17,0,null,null,9,"ion-content",[],null,null,null,b.rb,b.n)),t.ob(18,49152,null,0,p.u,[t.h,t.k,t.z],null,null),(n()(),t.pb(19,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,e){var t=!0;return"ionRefresh"===l&&(t=!1!==n.component.doRefresh(e)&&t),t},b.Rb,b.M)),t.ob(20,49152,null,0,p.cb,[t.h,t.k,t.z],null,null),(n()(),t.pb(21,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Refreshing..."]],null,null,null,b.Qb,b.N)),t.ob(22,49152,null,0,p.db,[t.h,t.k,t.z],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(n()(),t.pb(23,0,null,0,3,"ion-list",[],null,null,null,b.Jb,b.F)),t.ob(24,49152,null,0,p.O,[t.h,t.k,t.z],null,null),(n()(),t.gb(16777216,null,0,1,null,x)),t.ob(26,278528,null,0,g.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,5,0,"clear","small"),n(l,7,0,"dark"),n(l,9,0,"/assets/icon/LoGo.png"),n(l,11,0,"dark","person-add","small");var t=n(l,13,0,"/counselor-chat");n(l,12,0,t),n(l,14,0),n(l,16,0,e.ClientList.length<1),n(l,22,0,"arrow-dropdown","Pull to refresh","circles","Refreshing..."),n(l,26,0,e.ClientList)},null)}function y(n){return t.Gb(0,[(n()(),t.pb(0,0,null,null,1,"app-clients",[],null,null,null,v,d)),t.ob(1,245760,null,0,r,[i.a,h.m,u.a,s.a],null,null)],function(n,l){n(l,1,0)},null)}var z=t.lb("app-clients",r,y,{},{},[]),I=e("gIcY");e.d(l,"ClientsPageModuleNgFactory",function(){return C});var C=t.mb(c,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[a.a,z]],[3,t.j],t.x]),t.xb(4608,g.l,g.k,[t.u,[2,g.s]]),t.xb(4608,I.j,I.j,[]),t.xb(4608,p.b,p.b,[t.z,t.g]),t.xb(4608,p.Hb,p.Hb,[p.b,t.j,t.q]),t.xb(4608,p.Lb,p.Lb,[p.b,t.j,t.q]),t.xb(1073742336,g.b,g.b,[]),t.xb(1073742336,I.i,I.i,[]),t.xb(1073742336,I.a,I.a,[]),t.xb(1073742336,p.Db,p.Db,[]),t.xb(1073742336,h.o,h.o,[[2,h.u],[2,h.m]]),t.xb(1073742336,c,c,[]),t.xb(1024,h.k,function(){return[[{path:"",component:r}]]},[])])})}}]);